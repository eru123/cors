function render_result(e){"string"!=typeof e&&(e=JSON.stringify(e,null,2));const t=document.querySelector(".result-wrapper");t.innerHTML="";const n=document.createElement("h3");n.innerText="Result";const r=document.createElement("pre");r.classList.add("result");const o=document.createElement("code");o.innerText=e,r.appendChild(o),t.appendChild(n),t.appendChild(r)}function init(){form=document.querySelector("form"),form.addEventListener("submit",(async function(e){e.preventDefault();const t=document.querySelector("input[type=text]").value,n=encodeURIComponent(t);let r=document.querySelector(".result-wrapper");if(r)r.innerHTML='<pre class="result">Loading...</pre>';else{const e=document.querySelector("main");r=document.createElement("div"),r.classList.add("result-wrapper"),r.innerHTML='<pre class="result">Loading...</pre>',e.appendChild(r)}const o=await fetch(`/cors/${n}`);if(o.headers.get("content-type").includes("application/json")){render_result(await o.json())}else{render_result(await o.text())}}))}window.onload=init;
